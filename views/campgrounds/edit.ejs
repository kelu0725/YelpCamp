<% layout('layouts/boilerplate') %>
<div class="container d-flex justify-content-center align-items-center">
  <div class="row mb-3">
    <h1 class="text-center">Edit Campground</h1>
    <div class="col-md-12 col-sm-12">
      <form
        action="/campgrounds/<%= campground._id %>?_method=PUT"
        method="POST"
        novalidate
        class="validated-form"
        enctype="multipart/form-data"
      >
        <div class="mb-3">
          <label for="title form-label"> Title </label>
          <input
            class="form-control"
            type="text"
            id="title"
            name="campground[title]"
            value="<%= campground.title %> "
          />
          <!-- name attribute is the one that get passed from client to server. 
                So an object campground:{name:xx, location:xx} is passed -->
        </div>
        <div class="mb-3">
          <label for="location form-label"> Location </label>
          <input
            class="form-control"
            type="text"
            id="location"
            name="campground[location]"
            value="<%= campground.location %> "
          />
        </div>
        <div class="mb-3">
          <label for="price form-label"> Price </label>
          <div class="input-group">
            <span class="input-group-text" id="basic-addon1">$</span>
            <input
              type="number"
              class="form-control"
              name="campground[price]"
              placeholder="<%= campground.price %> "
              value="<%= campground.price %> "
            />
          </div>
        </div>
        <div class="mb-3">
          <label for="description form-label"> Description </label>
          <textarea
            class="form-control"
            id="description"
            aria-lable="description"
            name="campground[description]"
          >
          <%= campground.description %> </textarea
          >
          <br />
          <div class="mb-3">
            <label for="image form-label">Select a picture:</label>
            <input
              type="file"
              class="form-control"
              id="img"
              name="campground[image]"
              multiple
            />
          </div>
        </div>
        <% campground.images.forEach((img, i) => { %>
        <img
          src="<%= img.thumbnail %> "
          alt="image-<%= i %>"
          class="img-thumbnail"
        />
        <div class="form-check-inline">
          <input
            type="checkbox"
            name="deleteImages[]"
            id="image-<%= i %> "
            value="<%=  img.filename %>"
          />
          <label for="image-<%= i %> ">Delete</label>
        </div>
        <% }) %>
        <div class="mb-3">
          <button class="btn btn-success">Edit Campground</button>
        </div>
      </form>
      <a href="/campgrounds/">All Campgrounds</a>
    </div>
  </div>
</div>
